# A股智能选股系统

基于b1/b2交易策略的智能选股分析系统

## 📊 功能特性

### 核心功能
- **b1选股**：KDJ J值大负值的买入机会识别
- **b2选股**：b1之后第一根中长阳确认
- **大盘分析**：上证指数支撑/压力位计算
- **实时监控**：每日自动生成分析报告

### 交易策略
- **b1（左侧交易）**：卖出情绪的买点，KDJ J＜-5
- **b2（右侧交易）**：b1反弹后第一根中长阳确认

## 🚀 快速开始

### 1. 安装依赖
```bash
pip3 install baostock pandas requests
```

### 2. 运行分析
```bash
python3 ~/a-stock-trader/b1b2_analyzer.py
```

### 3. 查看日报
```bash
cat ~/a-stock-trader/a_stock_daily_YYYY_MM_DD.md
```

## 📁 文件结构

```
~/a-stock-trader/
├── b1b2_analyzer.py    # b1/b2选股分析
├── holdings_analyzer.py # 持仓分析
├── today_stocks.txt    # 今日配置
└── a_stock_daily_YYYY_MM_DD.md  # 日报
```

## 📈 策略说明

### b1买入条件
- KDJ指标J值大负值（J＜-5）
- 股价回调至支撑位
- 左侧分批买入
- 止损：买入K线最低价下方2-5个价位

### b2买入条件
- b1之后第一根中长阳（涨幅>3%）
- 右侧追涨买入
- 止损：阳线最低价下方2-5个价位

## 🔧 定时任务

- **每日16:00**：A股日报生成
- **每2小时**：加密货币汇报（含BTC/ETH）

## 🤖 系统架构

```
用户选股 → 系统分析 → MA/支撑压力计算 → 预测生成 → 日报输出
     ↓
  baostock API → K线数据 → 技术指标 → 交易建议
```

## 📝 每日汇报格式

### A股日报模板
```text
================================================================================
📊 A股日报 - YYYY-MM-DD
================================================================================

📈 今日大盘分析
--------------------------------------------------------------------------------
上证指数
- 当前点位: X,XXX.XX
- 今日涨跌: ±X.XX%
- 支撑位: X,XXX.XX
- 压力位: X,XXX.XX
- MA20: X,XXX.XX
- 趋势: 多头/空头

💡 盘面解读:
- 简短的盘面分析

================================================================================
📌 【b1】KDJ J值大负值的买入机会（N只）
--------------------------------------------------------------------------------
代码    名称      今日涨跌    明日预告    建议操作
--------------------------------------------------------------------------------
XXXXXX  XXXXXX   ±X.XX%    📈/➡️/🔄  简短的行动建议

📌 【b2】b1之后的第一根中长阳（N只）
--------------------------------------------------------------------------------
代码    名称      今日涨跌    明日预告    建议操作
--------------------------------------------------------------------------------
XXXXXX  XXXXXX   +X.XX%     📈        简短的行动建议

📌 【现有持仓】（N只）
--------------------------------------------------------------------------------
代码    名称      今日涨跌    明日预告    建议操作
--------------------------------------------------------------------------------
XXXXXX  XXXXXX   -X.XX%     🔻        简短的行动建议

================================================================================
💰 交易操作建议
================================================================================

【🔥 重点b1机会】
• 代码 名称：操作建议

【🚀 重点b2机会】
• 代码 名称：操作建议

【⚠️ 持仓处理】
• 代码 名称：操作建议

================================================================================
📊 快速统计
================================================================ 数量      ================

板块     明日看涨      震荡/筑底      看跌
--------------------------------------------------------------------------------
b1        N只       X只          X只           X只
b2        N只       X只 🚀       X只           X只
持仓      N只       X只          X只           X只

================================================================================
📚 b1/b2策略说明
================================================================================

【b1】左侧交易 - 卖出情绪的买点
--------------------------------------------------------------------------------
• 条件: KDJ J值大负值（J＜-5)，回调至支撑位
• 策略: 左侧分批买入，止损设买入K线最低价下方

【b2】右侧交易 - b1之后第一根中长阳
--------------------------------------------------------------------------------
• 条件: b1反弹后第一根中长阳（涨幅>3%）
• 策略: 右侧追涨买入，止损设阳线最低价下方

================================================================================
生成时间: YYYY-MM-DD HH:MM
================================================================================
```

### 加密货币汇报模板
```text
================================================================================
📊 加密货币汇报 - YYYY-MM-DD HH:MM
================================================================================

💰 BTC/USDT
--------------------------------------------------------------------------------
- 当前价格: $XX,XXX
- 支撑位: $XX,XXX
- 压力位: $XX,XXX
- MA20: $XX,XXX
- 趋势: 多头/空头
- 建议: HOLD/做多/做空

💰 ETH/USDT
--------------------------------------------------------------------------------
- 当前价格: $X,XXX
- 支撑位: $X,XXX
- 压力位: $X,XXX
- MA20: $X,XXX
- 趋势: 多头/空头
- 建议: HOLD/做多/做空

================================================================================
📊 账户状态
================================================================================

- 初始资金: XX.XX USDT
- 当前可用: XX.XX USDT
- 持仓: X.XXXXXX BTC @ $XX,XXX
- 总资产: $XX.XX
- 收益率: ±X.XX%

================================================================================
💰 交易操作建议
================================================================================

• BTC: 操作建议（持有/加仓/减仓/止损）
• ETH: 操作建议（持有/加仓/减仓/止损）

================================================================================
生成时间: YYYY-MM-DD HH:MM
================================================================================
```

## 📝 更新日志

### 2026-02-12
- 初始版本创建
- baostock API集成
- b1/b2选股逻辑实现
- 上证指数支撑压力位计算
- 每日汇报格式标准化

---

**Author**: LuXZ02
**Created**: 2026-02-12
